package = org.openecard.openssl
headerFilter = openssl/*
headers = openssl/ssl.h \
          openssl/evp.h \
          openssl/kdf.h \
          openssl/err.h \
          openssl/encoder.h \
          openssl/decoder.h \
          openssl/ec.h

noStringConversion = OSSL_PARAM_construct_double \
                     OSSL_PARAM_construct_int \
                     OSSL_PARAM_construct_int32 \
                     OSSL_PARAM_construct_int64 \
                     OSSL_PARAM_construct_long \
                     OSSL_PARAM_construct_size_t \
                     OSSL_PARAM_construct_time_t \
                     OSSL_PARAM_construct_uint \
                     OSSL_PARAM_construct_uint32 \
                     OSSL_PARAM_construct_uint64 \
                     OSSL_PARAM_construct_ulong \
                     OSSL_PARAM_construct_BN \
                     OSSL_PARAM_construct_utf8_string \
                     OSSL_PARAM_construct_utf8_ptr \
                     OSSL_PARAM_construct_octet_string \
                     OSSL_PARAM_construct_octet_ptr \
                     OSSL_ENCODER_CTX_new_for_pkey \
                     OSSL_DECODER_CTX_new_for_pkey

compilerOpts = -DOPENSSL_NO_DEPRECATED
compilerOpts.linux_x64 = -I./src/nativeInterop/cinterop/linux -I./src/nativeInterop/cinterop/linux/x86_64-linux-gnu
compilerOpts.linux_arm64 = -I./src/nativeInterop/cinterop/linux -I./src/nativeInterop/cinterop/linux/aarch64-linux-gnu
compilerOpts.mingw = -I./src/nativeInterop/cinterop/mingw
compilerOpts.osx = -I./src/nativeInterop/cinterop/osx
compilerOpts.ios = -I./src/nativeInterop/cinterop/osx

linkerOpts.osx = -L/opt/homebrew/Cellar/openssl@3.0/3.0.18/lib -lssl -lcrypto

linkerOpts.mingw = -LC:/msys64/mingw64/lib -LC:/Tools/msys64/mingw64/lib -LC:/Tools/msys2/mingw64/lib

linkerOpts.linux_x64 = -L/usr/lib/x86_64-linux-gnu -lssl -lcrypto -lpthread --allow-shlib-undefined
linkerOpts.linux_arm64 = -L/usr/lib/aarch64-linux-gnu -lssl -lcrypto -lpthread --allow-shlib-undefined

staticLibraries.ios_simulator_arm64 = libssl.a libcrypto.a
libraryPaths.ios_simulator_arm64=./src/nativeInterop/cinterop/libs/ios_simulator_arm64

staticLibraries.ios_arm64 = libssl.a libcrypto.a
libraryPaths.ios_arm64=./src/nativeInterop/cinterop/libs/ios
